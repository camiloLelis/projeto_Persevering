<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    li {
      margin-bottom: 10px;
    }
  </style>
  <title>Cadastro de usuários</title>
</head>
<body>
  <h1>Relação de todos usuários cadastrados</h1>
  
<script>



// Exemplo usando fetch para fazer uma requisição GET
fetch('http://localhost:3000/users', {
  method: 'GET',
    credentials: 'include',
  headers: {
    'Content-Type': 'application/json',
    // Adicione o token JWT se necessário
    'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NDIsIm5vbWUiOiJDYW1pbG8gTGVsaXMgZGUgU291emEiLCJlbWFpbCI6ImNhbWlsb2xlbGlzZGVzb3V6YUBnbWFpbC5jb20iLCJlbWFpbENvbmZpcm1hdGlvbiI6dHJ1ZSwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzIyODg1MTg4LCJleHAiOjE3MjU0NzcxODh9.ntQZ6JEcOymjfdj7J0mitRkp8vDyxh-Askor64lAcg8',
    mode: 'no-cors'
  }
})

  .then(response => {
    if (!response.ok) {
      throw new Error('Erro na requisição');
    }
    return response.json();
  })
  .then(data => {
  
    const ul = document.createElement('ul');

    data.forEach(user => {
      const li = document.createElement('li');
      const br = document.createElement('br')
      li.textContent = ` Nome: ${user.nome}, Email: ${user.email}`;
      ul.appendChild(li);
      ul.appendChild(br)
    });
    document.body.appendChild(ul);
  
  })
  .catch(error => {
    
    console.error(error.message);
  });

</script>
</body>
</html>